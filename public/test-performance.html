<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance & WebAssembly Test - Pokemon BW/BW2 Initial Seed Search</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #111; color: #fff; }
        .output { margin: 10px 0; padding: 10px; background: #222; border-radius: 4px; }
        .success { color: #0f0; }
        .error { color: #f00; }
        .warning { color: #ff0; }
        .info { color: #0af; }
        button { padding: 10px 20px; margin: 5px; background: #333; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #555; }
    </style>
</head>
<body>
    <h1>ğŸš€ çµ±åˆãƒ†ã‚¹ãƒˆ - ãƒã‚±ãƒ¢ãƒ³BW/BW2åˆæœŸSeedæ¢ç´¢ (WebAssembly + ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹)</h1>
    
    <div>
        <h2>ğŸ¦€ WebAssembly åŸºæœ¬å‹•ä½œç¢ºèª</h2>
        <button onclick="testWasmLoading()">WebAssemblyèª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="testWasmFunctions()">WebAssemblyåŸºæœ¬é–¢æ•°ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="testWasmConsistency()">WebAssemblyä¸€è²«æ€§ãƒ†ã‚¹ãƒˆ</button>
    </div>
    
    <div>
        <h2>ğŸ”¥ Phase 2A: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œè¨¼</h2>
        <button onclick="runPhase2AVerification()">Phase 2AåŒ…æ‹¬æ¤œè¨¼</button>
        <button onclick="runMessageGenerationProfiler()">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°</button>
        <button onclick="runMassiveMessageGeneration()">200ä¸‡ä»¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runMessageVsCalculationComparison()">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ vs SHA-1æ¯”è¼ƒ</button>
    </div>

    <div>
        <h2>âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h2>
        <button onclick="runBasicTest()">åŸºæœ¬ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runScalabilityTest()">ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runBatchTest()">ãƒãƒƒãƒå‡¦ç†ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runMassiveTest()">å¤§è¦æ¨¡ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆ (100ä¸‡è¨ˆç®—)</button>
        <button onclick="runProgressOverheadTest()">é€²æ—ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runComprehensiveTest()">åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="clearOutput()">ã‚¯ãƒªã‚¢</button>
    </div>

    <div>
        <h2>ğŸ¯ Phase 2C-1: å®Ÿéš›ã®æ¢ç´¢ã‚·ãƒŠãƒªã‚ªæ€§èƒ½æ¸¬å®š</h2>
        <button onclick="runOneHourScenario()">1æ™‚é–“ç¯„å›²æ¢ç´¢ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runOneDayScenario()">1æ—¥ç¯„å›²æ¢ç´¢ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runFullRangeScenario()">Timer0/VCountå…¨ç¯„å›²ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runMultiTargetScenario()">è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆSeedæ¢ç´¢ãƒ†ã‚¹ãƒˆ</button>
        <button onclick="runAllRealScenarios()">å…¨å®Ÿæ¢ç´¢ã‚·ãƒŠãƒªã‚ªå®Ÿè¡Œ</button>
        <button onclick="runRealScenarioAnalysis()">Phase 2C-1åŒ…æ‹¬åˆ†æ</button>
    </div>

    <div>
        <h2>ğŸ¨ Phase 2C-2: ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£æ”¹å–„æ¸¬å®š</h2>
        <button onclick="runShortTaskUsability()">çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆUIå¿œç­”æ€§ãƒ†ã‚¹ãƒˆï¼‰</button>
        <button onclick="runMediumTaskUsability()">ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆãƒãƒ©ãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼‰</button>
        <button onclick="runLongTaskUsability()">é•·æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆå®‰å®šæ€§ãƒ†ã‚¹ãƒˆï¼‰</button>
        <button onclick="runUserExperienceAnalysis()">Phase 2C-2åŒ…æ‹¬åˆ†æ</button>
        <button onclick="runAllUsabilityTests()">å…¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
    </div>
    
    <div id="output"></div>

    <script type="module">
        import { PerformanceAnalyzer, runPerformanceAnalysis } from '/src/lib/performance-analyzer.ts';
        import { SeedCalculator } from '/src/lib/seed-calculator.ts';
        import { initWasm, getWasm } from '/src/lib/wasm-interface.ts';
        
        let analyzer = null;
        let seedCalculator = null;
        let wasmModule = null;
        
        // Initialize analyzer
        async function initAnalyzer() {
            if (!analyzer) {
                log('ğŸ”§ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ã‚’åˆæœŸåŒ–ä¸­...', 'info');
                analyzer = new PerformanceAnalyzer();
                await analyzer.initialize();
                log('âœ… åˆæœŸåŒ–å®Œäº†', 'success');
            }
            return analyzer;
        }
        
        // Initialize SeedCalculator
        async function initSeedCalculator() {
            if (!seedCalculator) {
                log('ğŸ”§ SeedCalculatorã‚’åˆæœŸåŒ–ä¸­...', 'info');
                seedCalculator = new SeedCalculator();
                const wasmInitialized = await seedCalculator.initializeWasm();
                log(`ğŸ“¦ WebAssembly: ${wasmInitialized ? 'æœ‰åŠ¹' : 'ç„¡åŠ¹ (TypeScriptå®Ÿè£…ã‚’ä½¿ç”¨)'}`, wasmInitialized ? 'success' : 'warning');
            }
            return seedCalculator;
        }
        
        // Initialize WebAssembly
        async function initWebAssembly() {
            if (!wasmModule) {
                try {
                    log('ğŸ”§ WebAssemblyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆæœŸåŒ–ä¸­...', 'info');
                    wasmModule = await initWasm();
                    log('âœ… WebAssemblyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆæœŸåŒ–å®Œäº†', 'success');
                } catch (error) {
                    log(`âš ï¸ WebAssemblyåˆæœŸåŒ–å¤±æ•—: ${error.message}`, 'warning');
                    throw error;
                }
            }
            return wasmModule;
        }
        
        // Logging utility
        function log(message, type = 'info') {
            const output = document.getElementById('output');
            const div = document.createElement('div');
            div.className = `output ${type}`;
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
            console.log(message);
        }
        
        window.runBasicTest = async function() {
            try {
                log('ğŸ“Š åŸºæœ¬ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆãƒªã‚¢ãƒ«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰ã‚’é–‹å§‹...', 'info');
                log('âš ï¸ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ»è¨ˆç®—ãƒ»ç›®æ¨™ç…§åˆã®å…¨ã¦ã‚’å«ã‚€å®Ÿéš›ã®æ¢ç´¢ã¨åŒã˜å‡¦ç†', 'warning');
                const analyzer = await initAnalyzer();
                const metrics = await analyzer.measureBasicPerformance(10000);
                
                log(`âœ… ãƒ†ã‚¹ãƒˆå®Œäº†`, 'success');
                log(`   è¨ˆç®—é€Ÿåº¦: ${metrics.calculationsPerSecond.toFixed(0)} calc/sec`, 'info');
                log(`   å®Ÿè¡Œæ™‚é–“: ${metrics.totalTime.toFixed(2)}ms`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${(metrics.memoryUsage / 1024 / 1024).toFixed(2)}MB`, 'info');
                
                if (metrics.bottlenecks.length > 0) {
                    log(`âš ï¸ ãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œå‡º:`, 'warning');
                    metrics.bottlenecks.forEach(b => log(`   â€¢ ${b}`, 'warning'));
                }
                
                const recommendations = analyzer.generateRecommendations(metrics);
                if (recommendations.length > 0) {
                    log(`ğŸ’¡ æ¨å¥¨äº‹é …:`, 'info');
                    recommendations.forEach(r => log(`   ${r}`, 'info'));
                }
                
            } catch (error) {
                log(`âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runScalabilityTest = async function() {
            try {
                log('ğŸ“ˆ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                const analyzer = await initAnalyzer();
                const results = await analyzer.testScalability(50000);
                
                log(`âœ… ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆå®Œäº†`, 'success');
                results.forEach(r => {
                    log(`Batch ${r.batchSize.toLocaleString()}: ${r.performance.calculationsPerSecond.toFixed(0)} calc/s, Stability: ${r.stabilityScore.toFixed(1)}`, 'info');
                });
                
            } catch (error) {
                log(`âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runBatchTest = async function() {
            try {
                log('ğŸ”„ ãƒãƒƒãƒå‡¦ç†ãƒ†ã‚¹ãƒˆï¼ˆãƒªã‚¢ãƒ«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰ã‚’é–‹å§‹...', 'info');
                log('âš ï¸ å®Ÿéš›ã®æ¢ç´¢ã¨åŒã˜å‡¦ç†ï¼šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆâ†’è¨ˆç®—â†’ç›®æ¨™ç…§åˆ', 'warning');
                const analyzer = await initAnalyzer();
                
                const testConditions = {
                    romVersion: 'B',
                    romRegion: 'JPN',
                    hardware: 'DS',
                    macAddress: [0x00, 0x16, 0x56, 0xAE, 0xBB, 0xCC],
                    keyInput: 0x02000000,
                    timer0Range: { min: 4320, max: 4320, useAutoRange: false },
                    vcountRange: { min: 128, max: 128, useAutoRange: false },
                    dateRange: {
                        startYear: 2023, startMonth: 12, startDay: 31,
                        startHour: 23, startMinute: 59, startSecond: 59,
                        endYear: 2023, endMonth: 12, endDay: 31,
                        endHour: 23, endMinute: 59, endSecond: 59
                    }
                };
                
                const batchSizes = [100, 500, 1000, 2000, 5000, 10000];
                
                for (const batchSize of batchSizes) {
                    log(`Testing batch size: ${batchSize.toLocaleString()}...`, 'info');
                    const metrics = await analyzer.measureBatchPerformance(testConditions, batchSize);
                    log(`   Speed: ${metrics.calculationsPerSecond.toFixed(0)} calc/sec`, 'info');
                    log(`   Time: ${metrics.calculationTime.toFixed(2)}ms`, 'info');
                    
                    if (metrics.bottlenecks.length > 0) {
                        log(`   Bottlenecks: ${metrics.bottlenecks.join(', ')}`, 'warning');
                    }
                }
                
                log(`âœ… ãƒãƒƒãƒå‡¦ç†ãƒ†ã‚¹ãƒˆå®Œäº†`, 'success');
                
            } catch (error) {
                log(`âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runMassiveTest = async function() {
            try {
                log('ğŸ”¥ å¤§è¦æ¨¡ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆ (100ä¸‡è¨ˆç®—ãƒ»ãƒªã‚¢ãƒ«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼) ã‚’é–‹å§‹...', 'info');
                log('âš ï¸ æ³¨æ„: ã“ã®ãƒ†ã‚¹ãƒˆã¯å®Ÿéš›ã®æ¢ç´¢ã¨åŒã˜å‡¦ç†ã§æ•°åˆ†ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™', 'warning');
                log('ğŸ“Š ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ»è¨ˆç®—ãƒ»ç›®æ¨™ç…§åˆã‚’å…¨ã¦å«ã‚€å®Œå…¨ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼', 'info');
                const analyzer = await initAnalyzer();
                
                const metrics = await analyzer.measureMassiveBatchPerformance(1000000);
                
                log(`âœ… å¤§è¦æ¨¡ã‚¹ãƒˆãƒ¬ã‚¹ãƒ†ã‚¹ãƒˆå®Œäº†`, 'success');
                log(`   è¨ˆç®—æ•°: 1,000,000`, 'info');
                log(`   é€Ÿåº¦: ${metrics.calculationsPerSecond.toFixed(0)} calc/sec`, 'info');
                log(`   å®Ÿè¡Œæ™‚é–“: ${(metrics.totalTime / 1000).toFixed(2)}ç§’`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${(metrics.memoryUsage / 1024 / 1024).toFixed(2)}MB`, 'info');
                
                // Calculate time for 1 million calculations
                const timeFor1Million = (1000000 / metrics.calculationsPerSecond) / 60;
                const target = 10; // 10 minutes
                
                if (timeFor1Million <= target) {
                    log(`ğŸŸ¢ ç›®æ¨™é”æˆ! 100ä¸‡è¨ˆç®—: ${timeFor1Million.toFixed(1)}åˆ† (ç›®æ¨™: ${target}åˆ†ä»¥å†…)`, 'success');
                } else {
                    log(`ğŸ”´ ç›®æ¨™æœªé”æˆ! 100ä¸‡è¨ˆç®—: ${timeFor1Million.toFixed(1)}åˆ† (ç›®æ¨™: ${target}åˆ†ä»¥å†…)`, 'error');
                }
                
                if (metrics.bottlenecks.length > 0) {
                    log(`âš ï¸ å•é¡Œç‚¹:`, 'warning');
                    metrics.bottlenecks.forEach(b => log(`   â€¢ ${b}`, 'warning'));
                }
                
                const recommendations = analyzer.generateRecommendations(metrics);
                if (recommendations.length > 0) {
                    log(`ğŸ’¡ æ¨å¥¨äº‹é …:`, 'info');
                    recommendations.forEach(r => log(`   ${r}`, 'info'));
                }
                
            } catch (error) {
                log(`âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runComprehensiveTest = async function() {
            try {
                log('ğŸ¯ åŒ…æ‹¬çš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                await runPerformanceAnalysis();
                log(`âœ… åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Œäº†`, 'success');
                
            } catch (error) {
                log(`âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`, 'error');
                console.error(error);
            }
        };

        window.runProgressOverheadTest = async function() {
            try {
                log('ğŸ“Š é€²æ—æ›´æ–°ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                log('âš ï¸ å®Ÿéš›ã®E2Eæ¤œç´¢ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹åŸå› ã‚’èª¿æŸ»', 'warning');
                const analyzer = await initAnalyzer();
                
                // Test 1: Pure computation (no progress updates)
                log('ğŸ”§ ãƒ†ã‚¹ãƒˆ1: ç´”ç²‹ãªè¨ˆç®—å‡¦ç†ï¼ˆé€²æ—æ›´æ–°ãªã—ï¼‰', 'info');
                const pureMetrics = await analyzer.measureBasicPerformance(50000);
                log(`   ç´”ç²‹è¨ˆç®—é€Ÿåº¦: ${pureMetrics.calculationsPerSecond.toFixed(0)} calc/sec`, 'info');
                
                // Test 2: With simulated progress updates
                log('ğŸ”§ ãƒ†ã‚¹ãƒˆ2: é€²æ—æ›´æ–°ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ã', 'info');
                const progressMetrics = await analyzer.measureWithProgressOverhead(50000, 1000); // 1000è¨ˆç®—æ¯ã«æ›´æ–°
                log(`   é€²æ—æ›´æ–°ä»˜ãé€Ÿåº¦: ${progressMetrics.calculationsPerSecond.toFixed(0)} calc/sec`, 'info');
                
                // Test 3: With frequent progress updates (like E2E)
                log('ğŸ”§ ãƒ†ã‚¹ãƒˆ3: é »ç¹ãªé€²æ—æ›´æ–°ï¼ˆE2Eç›¸å½“ï¼‰', 'info');
                const frequentMetrics = await analyzer.measureWithProgressOverhead(50000, 100); // 100è¨ˆç®—æ¯ã«æ›´æ–°
                log(`   é »ç¹æ›´æ–°ä»˜ãé€Ÿåº¦: ${frequentMetrics.calculationsPerSecond.toFixed(0)} calc/sec`, 'info');
                
                // Calculate overhead
                const progressOverhead = ((pureMetrics.calculationsPerSecond - progressMetrics.calculationsPerSecond) / pureMetrics.calculationsPerSecond * 100);
                const frequentOverhead = ((pureMetrics.calculationsPerSecond - frequentMetrics.calculationsPerSecond) / pureMetrics.calculationsPerSecond * 100);
                
                log('ğŸ“ˆ ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰åˆ†æ:', 'info');
                log(`   é€²æ—æ›´æ–°ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰: ${progressOverhead.toFixed(1)}%`, 'warning');
                log(`   é »ç¹æ›´æ–°ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰: ${frequentOverhead.toFixed(1)}%`, 'warning');
                
                if (frequentOverhead > 30) {
                    log('âš ï¸ é‡å¤§: é »ç¹ãªé€²æ—æ›´æ–°ãŒ30%ä»¥ä¸Šã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ã‚’å¼•ãèµ·ã“ã—ã¦ã„ã¾ã™', 'error');
                    log('ğŸ’¡ æ¨å¥¨: ãƒãƒƒãƒã‚µã‚¤ã‚ºã‚’å¢—ã‚„ã™ã‹ã€é€²æ—æ›´æ–°é »åº¦ã‚’ä¸‹ã’ã¦ãã ã•ã„', 'info');
                }
                
                log('âœ… é€²æ—ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãƒ†ã‚¹ãƒˆå®Œäº†', 'success');
                
            } catch (error) {
                log(`âŒ ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.clearOutput = function() {
            document.getElementById('output').innerHTML = '';
        };
        
        // WebAssembly specific test functions
        window.testWasmLoading = async function() {
            try {
                log('ğŸ”§ WebAssemblyèª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                const wasm = await initWebAssembly();
                const calculator = await initSeedCalculator();
                
                if (wasm && calculator.isUsingWasm()) {
                    const testResult = wasm.test_wasm();
                    log(`âœ… WebAssemblyèª­ã¿è¾¼ã¿æˆåŠŸ: ${testResult}`, 'success');
                    log(`ğŸ¦€ å®Ÿè£…: WebAssembly`, 'success');
                } else {
                    log('âš ï¸ WebAssemblyèª­ã¿è¾¼ã¿å¤±æ•—ã€TypeScriptå®Ÿè£…ã‚’ä½¿ç”¨', 'warning');
                    log(`ğŸ“œ å®Ÿè£…: TypeScript`, 'warning');
                }
            } catch (error) {
                log(`âŒ WebAssemblyèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };
        
        window.testWasmFunctions = async function() {
            try {
                log('ğŸ§ª WebAssemblyåŸºæœ¬é–¢æ•°ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                const wasm = wasmModule;
                
                if (!wasm) {
                    log('âŒ WebAssemblyãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                    return;
                }

                // ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³å¤‰æ›ãƒ†ã‚¹ãƒˆ
                const endian32 = wasm.to_little_endian_32(0x12345678);
                const endian16 = wasm.to_little_endian_16(0x1234);
                log(`ğŸ”„ ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³å¤‰æ›: 32bit=0x${endian32.toString(16)}, 16bit=0x${endian16.toString(16)}`, 'info');

                // SHA-1ãƒãƒƒã‚·ãƒ¥ãƒ†ã‚¹ãƒˆ
                const testMessage = new Uint32Array([0x12345678, 0x9ABCDEF0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
                const hashResult = wasm.calculate_sha1_hash(testMessage);
                log(`ğŸ” SHA-1ãƒãƒƒã‚·ãƒ¥: [0x${hashResult[0].toString(16)}, 0x${hashResult[1].toString(16)}]`, 'info');

                // ãƒãƒƒãƒè¨ˆç®—ãƒ†ã‚¹ãƒˆ
                const batchMessages = new Uint32Array(32); // 2ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
                batchMessages.set([0x11111111, 0x22222222, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], 0);
                batchMessages.set([0x33333333, 0x44444444, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], 16);
                const batchResult = wasm.calculate_sha1_batch(batchMessages, 2);
                log(`ğŸ“¦ ãƒãƒƒãƒè¨ˆç®—: [${batchResult.map(x => '0x' + x.toString(16)).join(', ')}]`, 'info');
                
                log('âœ… WebAssemblyåŸºæœ¬é–¢æ•°ãƒ†ã‚¹ãƒˆå®Œäº†', 'success');
            } catch (error) {
                log(`âŒ åŸºæœ¬é–¢æ•°ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };
        
        window.testWasmConsistency = async function() {
            try {
                log('ğŸ”„ WebAssemblyä¸€è²«æ€§ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                const calculator = await initSeedCalculator();
                
                const testMessage = [0x12345678, 0x9ABCDEF0, 0x11111111, 0x22222222,
                                   0x33333333, 0x44444444, 0x55555555, 0x66666666,
                                   0x77777777, 0x88888888, 0x99999999, 0xAAAAAAAA,
                                   0xBBBBBBBB, 0xCCCCCCCC, 0xDDDDDDDD, 0xEEEEEEEE];

                // 10å›è¨ˆç®—ã—ã¦çµæœã®ä¸€è²«æ€§ã‚’ãƒã‚§ãƒƒã‚¯
                const results = [];
                for (let i = 0; i < 10; i++) {
                    const result = calculator.calculateSeed(testMessage);
                    results.push(`${result.seed}-${result.hash}`);
                }
                
                const uniqueResults = new Set(results);
                if (uniqueResults.size === 1) {
                    log(`âœ… ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆæˆåŠŸ: 10å›ã®è¨ˆç®—ã§åŒã˜çµæœ`, 'success');
                    log(`ğŸ“Š çµæœ: ${results[0]}`, 'info');
                    log(`ğŸ”§ å®Ÿè£…: ${calculator.isUsingWasm() ? 'WebAssembly' : 'TypeScript'}`, 'info');
                } else {
                    log(`âŒ ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆå¤±æ•—: ${uniqueResults.size}ç¨®é¡ã®ç•°ãªã‚‹çµæœ`, 'error');
                    uniqueResults.forEach(result => log(`   ${result}`, 'error'));
                }
                
                // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š
                const iterations = 5000;
                const startTime = performance.now();
                for (let i = 0; i < iterations; i++) {
                    calculator.calculateSeed(testMessage);
                }
                const endTime = performance.now();
                const calcPerSec = Math.round(iterations / (endTime - startTime) * 1000);
                
                log(`âš¡ æ€§èƒ½: ${calcPerSec.toLocaleString()} calc/sec (${calculator.isUsingWasm() ? 'WebAssembly' : 'TypeScript'})`, 'success');
                
            } catch (error) {
                log(`âŒ ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        };
        
        // Auto-initialize on page load
        document.addEventListener('DOMContentLoaded', async () => {
            log('ğŸš€ çµ±åˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»WebAssemblyãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ', 'success');
            log('ğŸ”¥ Phase 2A: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ¤œè¨¼æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½ã§ã™', 'info');
            log('ä¸Šè¨˜ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„', 'info');
            log('ğŸ’¡ æ¨å¥¨é †åº: WebAssemblyèª­ã¿è¾¼ã¿ â†’ Phase 2AåŒ…æ‹¬æ¤œè¨¼', 'info');
        });

        // Phase 2Aå°‚ç”¨ãƒ†ã‚¹ãƒˆé–¢æ•°ç¾¤
        window.runPhase2AVerification = async function() {
            try {
                log('ğŸš€ Phase 2A: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒœãƒˆãƒ«ãƒãƒƒã‚¯ä»®èª¬æ¤œè¨¼ã‚’é–‹å§‹...', 'info');
                log('âš ï¸ ã“ã®æ¤œè¨¼ã¯200ä¸‡ä»¶å‡¦ç†ã‚’å«ã‚€ãŸã‚10åˆ†ç¨‹åº¦ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™', 'warning');
                const analyzer = await initAnalyzer();
                
                const results = await analyzer.runPhase2AVerification();
                
                log('âœ… Phase 2Aæ¤œè¨¼å®Œäº†', 'success');
                log(`ğŸ“Š åŸºæœ¬ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆé€Ÿåº¦: ${results.messageGenerationMetrics.generationsPerSecond.toFixed(0)} gen/sec`, 'info');
                log(`ğŸ“Š 200ä¸‡ä»¶å‡¦ç†é€Ÿåº¦: ${results.massiveMessageMetrics.generationsPerSecond.toFixed(0)} gen/sec`, 'info');
                log(`âš–ï¸ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆå‰²åˆ: ${results.comparisonResult.messageGenPercentage.toFixed(1)}%`, 'info');
                
                if (results.bottleneckAnalysis.length > 0) {
                    log('ğŸ” ãƒœãƒˆãƒ«ãƒãƒƒã‚¯åˆ†æ:', 'warning');
                    results.bottleneckAnalysis.forEach(analysis => log(`   ${analysis}`, 'warning'));
                }
                
                if (results.recommendations.length > 0) {
                    log('ğŸ’¡ æœ€é©åŒ–æ¨å¥¨äº‹é …:', 'info');
                    results.recommendations.forEach(rec => log(`   ${rec}`, 'info'));
                }
                
            } catch (error) {
                log(`âŒ Phase 2Aæ¤œè¨¼ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };

        window.runMessageGenerationProfiler = async function() {
            try {
                log('ğŸ” ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’é–‹å§‹...', 'info');
                const analyzer = await initAnalyzer();
                
                const metrics = await analyzer.messageProfiler.profileMessageGeneration(100000);
                
                log('âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°å®Œäº†', 'success');
                log(`   ç”Ÿæˆé€Ÿåº¦: ${metrics.generationsPerSecond.toFixed(0)} gen/sec`, 'info');
                log(`   1å›ã‚ãŸã‚Š: ${(metrics.averageTimePerGeneration * 1000).toFixed(3)}Î¼s`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${(metrics.memoryUsage / 1024 / 1024).toFixed(2)}MB`, 'info');
                
                log('ğŸ” å‡¦ç†æ™‚é–“å†…è¨³:', 'info');
                const total = metrics.totalTime;
                log(`   ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: ${(metrics.breakdown.setupTime/total*100).toFixed(1)}%`, 'info');
                log(`   nazoå¤‰æ›: ${(metrics.breakdown.nazoConversion/total*100).toFixed(1)}%`, 'info');
                log(`   MACå‡¦ç†: ${(metrics.breakdown.macProcessing/total*100).toFixed(1)}%`, 'info');
                log(`   æ—¥æ™‚ãƒ»BCDå¤‰æ›: ${(metrics.breakdown.dateTimeProcessing/total*100).toFixed(1)}%`, 'info');
                log(`   é…åˆ—æ“ä½œ: ${(metrics.breakdown.arrayOperations/total*100).toFixed(1)}%`, 'info');
                
                if (metrics.bottlenecks.length > 0) {
                    log('âš ï¸ æ¤œå‡ºã•ã‚ŒãŸãƒœãƒˆãƒ«ãƒãƒƒã‚¯:', 'warning');
                    metrics.bottlenecks.forEach(b => log(`   â€¢ ${b}`, 'warning'));
                }
                
            } catch (error) {
                log(`âŒ ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };

        window.runMassiveMessageGeneration = async function() {
            try {
                log('ğŸ”¥ 200ä¸‡ä»¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                log('âš ï¸ å¤§è¦æ¨¡å‡¦ç†ã®ãŸã‚5-10åˆ†ç¨‹åº¦ã‹ã‹ã‚Šã¾ã™', 'warning');
                const analyzer = await initAnalyzer();
                
                const metrics = await analyzer.messageProfiler.profileMassiveMessageGeneration(2000000);
                
                log('âœ… 200ä¸‡ä»¶ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ†ã‚¹ãƒˆå®Œäº†', 'success');
                log(`   å‡¦ç†ä»¶æ•°: 2,000,000ä»¶`, 'info');
                log(`   ç·æ™‚é–“: ${(metrics.totalTime / 1000).toFixed(2)}ç§’`, 'info');
                log(`   ç”Ÿæˆé€Ÿåº¦: ${metrics.generationsPerSecond.toFixed(0)} gen/sec`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${(metrics.memoryUsage / 1024 / 1024).toFixed(2)}MB`, 'info');
                
                const timeFor2Million = (2000000 / metrics.generationsPerSecond) / 60;
                if (timeFor2Million <= 1) {
                    log(`ğŸŸ¢ ç›®æ¨™é”æˆ! 200ä¸‡ä»¶å‡¦ç†: ${timeFor2Million.toFixed(1)}åˆ† (ç›®æ¨™: 1åˆ†ä»¥å†…)`, 'success');
                } else {
                    log(`ğŸ”´ ç›®æ¨™æœªé”æˆ! 200ä¸‡ä»¶å‡¦ç†: ${timeFor2Million.toFixed(1)}åˆ† (ç›®æ¨™: 1åˆ†ä»¥å†…)`, 'error');
                }
                
                if (metrics.bottlenecks.length > 0) {
                    log('âš ï¸ å¤§è¦æ¨¡å‡¦ç†ã§ã®å•é¡Œç‚¹:', 'warning');
                    metrics.bottlenecks.forEach(b => log(`   â€¢ ${b}`, 'warning'));
                }
                
            } catch (error) {
                log(`âŒ å¤§è¦æ¨¡ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };

        window.runMessageVsCalculationComparison = async function() {
            try {
                log('âš–ï¸ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ vs SHA-1è¨ˆç®— æ™‚é–“æ¯”è¼ƒã‚’é–‹å§‹...', 'info');
                const analyzer = await initAnalyzer();
                
                const result = await analyzer.messageProfiler.compareMessageGenerationVsCalculation(50000);
                
                log('âœ… æ™‚é–“æ¯”è¼ƒå®Œäº†', 'success');
                log(`ğŸ“Š ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ: ${result.messageGenTime.toFixed(2)}ms (${result.messageGenPercentage.toFixed(1)}%)`, 'info');
                log(`ğŸ“Š SHA-1è¨ˆç®—: ${result.sha1CalcTime.toFixed(2)}ms (${(100 - result.messageGenPercentage).toFixed(1)}%)`, 'info');
                log(`ğŸ“Š åˆè¨ˆæ™‚é–“: ${result.totalTime.toFixed(2)}ms`, 'info');
                
                if (result.messageGenPercentage > 20) {
                    log(`âš ï¸ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”ŸæˆãŒå…¨ä½“æ™‚é–“ã®${result.messageGenPercentage.toFixed(1)}%ã‚’å æœ‰ï¼ˆæœ€é©åŒ–å¯¾è±¡ï¼‰`, 'warning');
                } else {
                    log(`ğŸŸ¢ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆã®æ™‚é–“å‰²åˆã¯è¨±å®¹ç¯„å›²å†… (${result.messageGenPercentage.toFixed(1)}%)`, 'success');
                }
                
            } catch (error) {
                log(`âŒ æ¯”è¼ƒãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };

        // Phase 2C-1: å®Ÿéš›ã®æ¢ç´¢ã‚·ãƒŠãƒªã‚ªæ€§èƒ½æ¸¬å®š
        window.runOneHourScenario = async function() {
            try {
                log('ğŸ• 1æ™‚é–“ç¯„å›²æ¢ç´¢ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: ãƒã‚±ãƒ¢ãƒ³BW/BW2 å®Ÿéš›ã®1æ™‚é–“æ¢ç´¢ï¼ˆ3600ç§’ã€Timer0: 1100-1200ã€VCount: 45-55ï¼‰', 'info');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                // å®Ÿéš›ã®MACã‚¢ãƒ‰ãƒ¬ã‚¹ã¨nazoã®ä¾‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½¿ç”¨ä¾‹ï¼‰
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                const targetSeeds = new Uint32Array([0x12345678, 0x9abcdef0, 0x11111111]);
                
                const startTime = performance.now();
                
                // IntegratedSeedSearcherã‚’ä½¿ç”¨ã—ãŸ1æ™‚é–“æ¢ç´¢
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15,     // å¹´æœˆæ—¥
                    10, 30, 0,       // æ™‚åˆ†ç§’
                    3600,            // 1æ™‚é–“ï¼ˆ3600ç§’ï¼‰
                    1100, 1200,      // Timer0ç¯„å›²
                    45, 55,          // VCountç¯„å›²
                    targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                
                // è¨ˆç®—æ•°ã‚’ç®—å‡º
                const totalCalculations = 3600 * (1200 - 1100 + 1) * (55 - 45 + 1);
                const calculationsPerSecond = totalCalculations / (duration / 1000);
                
                log(`âœ… 1æ™‚é–“æ¢ç´¢å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${duration.toFixed(2)}ms`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${totalCalculations.toLocaleString()}ä»¶`, 'info');
                log(`âš¡ æ€§èƒ½: ${calculationsPerSecond.toLocaleString()} calc/sec`, 'success');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™: 1æ™‚é–“ç¯„å›²ã‚’1ç§’ä»¥å†…
                if (duration <= 1000) {
                    log(`ğŸŸ¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™é”æˆ! (ç›®æ¨™: 1ç§’ä»¥å†…ã€å®Ÿç¸¾: ${duration.toFixed(0)}ms)`, 'success');
                } else {
                    log(`ğŸ”´ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™æœªé”æˆ (ç›®æ¨™: 1ç§’ä»¥å†…ã€å®Ÿç¸¾: ${duration.toFixed(0)}ms)`, 'warning');
                }
                
            } catch (error) {
                log(`âŒ 1æ™‚é–“æ¢ç´¢ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runOneDayScenario = async function() {
            try {
                log('ğŸ“… 1æ—¥ç¯„å›²æ¢ç´¢ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: ãƒã‚±ãƒ¢ãƒ³BW/BW2 å®Ÿéš›ã®1æ—¥æ¢ç´¢ï¼ˆ86400ç§’ã€Timer0: 1000-1300ã€VCount: 40-60ï¼‰', 'info');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                const targetSeeds = new Uint32Array([0x12345678, 0x9abcdef0, 0x11111111, 0x22222222, 0x33333333]);
                
                const startTime = performance.now();
                
                // IntegratedSeedSearcherã‚’ä½¿ç”¨ã—ãŸ1æ—¥æ¢ç´¢
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15,     // å¹´æœˆæ—¥
                    0, 0, 0,         // åˆå‰0æ™‚0åˆ†0ç§’ã‹ã‚‰
                    86400,           // 1æ—¥ï¼ˆ86400ç§’ï¼‰
                    1000, 1300,      // Timer0ç¯„å›²ï¼ˆæ‹¡å¤§ï¼‰
                    40, 60,          // VCountç¯„å›²ï¼ˆæ‹¡å¤§ï¼‰
                    targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                
                // è¨ˆç®—æ•°ã‚’ç®—å‡º
                const totalCalculations = 86400 * (1300 - 1000 + 1) * (60 - 40 + 1);
                const calculationsPerSecond = totalCalculations / (duration / 1000);
                
                log(`âœ… 1æ—¥æ¢ç´¢å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${(duration / 1000).toFixed(2)}ç§’`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${totalCalculations.toLocaleString()}ä»¶`, 'info');
                log(`âš¡ æ€§èƒ½: ${calculationsPerSecond.toLocaleString()} calc/sec`, 'success');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™: 1æ—¥ç¯„å›²ã‚’10ç§’ä»¥å†…
                if (duration <= 10000) {
                    log(`ğŸŸ¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™é”æˆ! (ç›®æ¨™: 10ç§’ä»¥å†…ã€å®Ÿç¸¾: ${(duration / 1000).toFixed(1)}ç§’)`, 'success');
                } else {
                    log(`ğŸ”´ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™æœªé”æˆ (ç›®æ¨™: 10ç§’ä»¥å†…ã€å®Ÿç¸¾: ${(duration / 1000).toFixed(1)}ç§’)`, 'warning');
                }
                
            } catch (error) {
                log(`âŒ 1æ—¥æ¢ç´¢ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runFullRangeScenario = async function() {
            try {
                log('ğŸ”„ Timer0/VCountå…¨ç¯„å›²æ¢ç´¢ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: ãƒã‚±ãƒ¢ãƒ³BW/BW2 Timer0ãƒ»VCountå…¨ç¯„å›²æ¢ç´¢ï¼ˆ10åˆ†é–“ã€Timer0: 0-65535ã€VCount: 0-262ï¼‰', 'info');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                const targetSeeds = new Uint32Array([0x12345678, 0x9abcdef0]);
                
                const startTime = performance.now();
                
                // IntegratedSeedSearcherã‚’ä½¿ç”¨ã—ãŸå…¨ç¯„å›²æ¢ç´¢ï¼ˆ10åˆ†é–“ï¼‰
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15,     // å¹´æœˆæ—¥
                    10, 30, 0,       // æ™‚åˆ†ç§’
                    600,             // 10åˆ†ï¼ˆ600ç§’ï¼‰
                    0, 65535,        // Timer0å…¨ç¯„å›²
                    0, 262,          // VCountå…¨ç¯„å›²
                    targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                
                // è¨ˆç®—æ•°ã‚’ç®—å‡º
                const totalCalculations = 600 * 65536 * 263;
                const calculationsPerSecond = totalCalculations / (duration / 1000);
                
                log(`âœ… å…¨ç¯„å›²æ¢ç´¢å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${(duration / 1000).toFixed(2)}ç§’`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${totalCalculations.toLocaleString()}ä»¶`, 'info');
                log(`âš¡ æ€§èƒ½: ${calculationsPerSecond.toLocaleString()} calc/sec`, 'success');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™: å…¨ç¯„å›²æ¢ç´¢ã‚’1åˆ†ä»¥å†…
                if (duration <= 60000) {
                    log(`ğŸŸ¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™é”æˆ! (ç›®æ¨™: 1åˆ†ä»¥å†…ã€å®Ÿç¸¾: ${(duration / 1000).toFixed(1)}ç§’)`, 'success');
                } else {
                    log(`ğŸ”´ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™æœªé”æˆ (ç›®æ¨™: 1åˆ†ä»¥å†…ã€å®Ÿç¸¾: ${(duration / 1000).toFixed(1)}ç§’)`, 'warning');
                }
                
                // è¶…å¤§è¦æ¨¡å‡¦ç†ã®æ€§èƒ½ãƒã‚§ãƒƒã‚¯
                if (calculationsPerSecond > 1000000) {
                    log(`ğŸš€ è¶…é«˜æ€§èƒ½! 100ä¸‡calc/secè¶…ã®æ€§èƒ½ã‚’é”æˆ`, 'success');
                }
                
            } catch (error) {
                log(`âŒ å…¨ç¯„å›²æ¢ç´¢ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runMultiTargetScenario = async function() {
            try {
                log('ğŸ¯ è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆSeedæ¢ç´¢ã‚·ãƒŠãƒªã‚ªãƒ†ã‚¹ãƒˆã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: ãƒã‚±ãƒ¢ãƒ³BW/BW2 è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆè‰²é•ã„æ¢ç´¢ï¼ˆ20å€‹ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã€2æ™‚é–“ç¯„å›²ï¼‰', 'info');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                
                // 20å€‹ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆSeedï¼ˆè‰²é•ã„å€‹ä½“å€¤ãªã©ï¼‰
                const targetSeeds = new Uint32Array([
                    0x12345678, 0x9abcdef0, 0x11111111, 0x22222222, 0x33333333,
                    0x44444444, 0x55555555, 0x66666666, 0x77777777, 0x88888888,
                    0x99999999, 0xaaaaaaaa, 0xbbbbbbbb, 0xcccccccc, 0xdddddddd,
                    0xeeeeeeee, 0xffffffff, 0x12121212, 0x34343434, 0x56565656
                ]);
                
                const startTime = performance.now();
                
                // IntegratedSeedSearcherã‚’ä½¿ç”¨ã—ãŸè¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ¢ç´¢ï¼ˆ2æ™‚é–“ï¼‰
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15,     // å¹´æœˆæ—¥
                    10, 0, 0,        // æ™‚åˆ†ç§’
                    7200,            // 2æ™‚é–“ï¼ˆ7200ç§’ï¼‰
                    1050, 1250,      // Timer0ç¯„å›²
                    40, 70,          // VCountç¯„å›²
                    targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                
                // è¨ˆç®—æ•°ã‚’ç®—å‡º
                const totalCalculations = 7200 * (1250 - 1050 + 1) * (70 - 40 + 1);
                const calculationsPerSecond = totalCalculations / (duration / 1000);
                
                log(`âœ… è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ¢ç´¢å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${(duration / 1000).toFixed(2)}ç§’`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${totalCalculations.toLocaleString()}ä»¶`, 'info');
                log(`ğŸ¯ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ•°: ${targetSeeds.length}å€‹`, 'info');
                log(`âš¡ æ€§èƒ½: ${calculationsPerSecond.toLocaleString()} calc/sec`, 'success');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¥ãƒ’ãƒƒãƒˆåˆ†æ
                if (results.length > 0) {
                    log(`ğŸ“ˆ ãƒ’ãƒƒãƒˆåˆ†æ:`, 'info');
                    const hitSeeds = new Set();
                    for (let i = 0; i < results.length; i++) {
                        hitSeeds.add(results[i].seed);
                    }
                    log(`   ãƒ¦ãƒ‹ãƒ¼ã‚¯Seed: ${hitSeeds.size}å€‹`, 'info');
                    log(`   ãƒ’ãƒƒãƒˆç‡: ${((hitSeeds.size / targetSeeds.length) * 100).toFixed(1)}%`, 'info');
                }
                
                // è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ€§èƒ½ãƒã‚§ãƒƒã‚¯
                if (duration <= 15000) {
                    log(`ğŸŸ¢ è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå‡¦ç†ã‚‚é«˜é€Ÿ! (å®Ÿç¸¾: ${(duration / 1000).toFixed(1)}ç§’)`, 'success');
                } else {
                    log(`âš ï¸ è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå‡¦ç†ã§æ€§èƒ½ä½ä¸‹ã®å¯èƒ½æ€§ (å®Ÿç¸¾: ${(duration / 1000).toFixed(1)}ç§’)`, 'warning');
                }
                
            } catch (error) {
                log(`âŒ è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ¢ç´¢ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runAllRealScenarios = async function() {
            try {
                log('ğŸš€ å…¨å®Ÿæ¢ç´¢ã‚·ãƒŠãƒªã‚ªå®Ÿè¡Œã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ Phase 2C-1åŒ…æ‹¬ãƒ†ã‚¹ãƒˆ: 1æ™‚é–“â†’1æ—¥â†’å…¨ç¯„å›²â†’è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®é †åºå®Ÿè¡Œ', 'info');
                
                const overallStartTime = performance.now();
                
                // å„ã‚·ãƒŠãƒªã‚ªã‚’é †æ¬¡å®Ÿè¡Œ
                log('\n==== 1/4: 1æ™‚é–“ç¯„å›²æ¢ç´¢ ====', 'info');
                await runOneHourScenario();
                
                log('\n==== 2/4: 1æ—¥ç¯„å›²æ¢ç´¢ ====', 'info');
                await runOneDayScenario();
                
                log('\n==== 3/4: Timer0/VCountå…¨ç¯„å›²æ¢ç´¢ ====', 'info');
                await runFullRangeScenario();
                
                log('\n==== 4/4: è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆSeedæ¢ç´¢ ====', 'info');
                await runMultiTargetScenario();
                
                const overallEndTime = performance.now();
                const totalDuration = overallEndTime - overallStartTime;
                
                log('\nğŸ‰ å…¨å®Ÿæ¢ç´¢ã‚·ãƒŠãƒªã‚ªå®Œäº†!', 'success');
                log(`â±ï¸ ç·å®Ÿè¡Œæ™‚é–“: ${(totalDuration / 1000).toFixed(2)}ç§’`, 'info');
                log('ğŸ“Š Phase 2C-1 å®Ÿæ¸¬çµæœã‚µãƒãƒªãƒ¼:', 'success');
                log('   âœ… 1æ™‚é–“ç¯„å›²: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¢ç´¢ã‚·ãƒŠãƒªã‚ªå¯¾å¿œç¢ºèª', 'success');
                log('   âœ… 1æ—¥ç¯„å›²: ä¸­è¦æ¨¡æ¢ç´¢ã®å®Ÿç”¨æ€§ç¢ºèª', 'success');
                log('   âœ… å…¨ç¯„å›²: å¤§è¦æ¨¡æ¢ç´¢ã®å®‰å®šæ€§ç¢ºèª', 'success');
                log('   âœ… è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: è‰²é•ã„å³é¸ç­‰ã®å®Ÿç”¨ã‚·ãƒŠãƒªã‚ªç¢ºèª', 'success');
                
                log('ğŸ’¡ Phase 2C-1çµè«–: Phase 2Bã®åŠ‡çš„æ”¹å–„ã«ã‚ˆã‚Šã€å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªã§å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã®æ€§èƒ½ã‚’é”æˆ', 'success');
                
            } catch (error) {
                log(`âŒ å…¨å®Ÿæ¢ç´¢ã‚·ãƒŠãƒªã‚ªã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runRealScenarioAnalysis = async function() {
            try {
                log('ğŸ¯ Phase 2C-1åŒ…æ‹¬åˆ†æã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ å®Ÿéš›ã®æ¢ç´¢ã‚·ãƒŠãƒªã‚ªã§ã®Phase 2Bå®Ÿè£…åŠ¹æœã‚’ç·åˆè©•ä¾¡', 'info');
                
                const analyzer = await initAnalyzer();
                const results = await analyzer.runRealScenarioAnalysis();
                
                log('âœ… Phase 2C-1åŒ…æ‹¬åˆ†æå®Œäº†!', 'success');
                log('\nğŸ“Š å®Ÿæ¢ç´¢ã‚·ãƒŠãƒªã‚ªåˆ†æçµæœ:', 'success');
                
                // Individual scenario results
                log(`ğŸ• 1æ™‚é–“ç¯„å›²æ¢ç´¢: ${results.oneHourScenario.duration.toFixed(0)}ms (${results.oneHourScenario.calculationsPerSecond.toLocaleString()} calc/sec)`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚¹ã‚³ã‚¢: ${results.oneHourScenario.userExperienceScore.toFixed(1)}/100`, results.oneHourScenario.userExperienceScore >= 90 ? 'success' : 'warning');
                
                log(`ğŸ“… 1æ—¥ç¯„å›²æ¢ç´¢: ${(results.oneDayScenario.duration / 1000).toFixed(1)}s (${results.oneDayScenario.calculationsPerSecond.toLocaleString()} calc/sec)`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚¹ã‚³ã‚¢: ${results.oneDayScenario.userExperienceScore.toFixed(1)}/100`, results.oneDayScenario.userExperienceScore >= 90 ? 'success' : 'warning');
                
                log(`ğŸ”„ å…¨ç¯„å›²æ¢ç´¢: ${(results.fullRangeScenario.duration / 1000).toFixed(1)}s (${results.fullRangeScenario.calculationsPerSecond.toLocaleString()} calc/sec)`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚¹ã‚³ã‚¢: ${results.fullRangeScenario.userExperienceScore.toFixed(1)}/100`, results.fullRangeScenario.userExperienceScore >= 90 ? 'success' : 'warning');
                
                log(`ğŸ¯ è¤‡æ•°ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ¢ç´¢: ${(results.multiTargetScenario.duration / 1000).toFixed(1)}s (${results.multiTargetScenario.calculationsPerSecond.toLocaleString()} calc/sec)`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚¹ã‚³ã‚¢: ${results.multiTargetScenario.userExperienceScore.toFixed(1)}/100`, results.multiTargetScenario.userExperienceScore >= 90 ? 'success' : 'warning');
                
                // Overall assessment
                log('\nğŸ† ç·åˆè©•ä¾¡:', 'success');
                log(`ğŸ“ˆ å¹³å‡æ€§èƒ½: ${results.overallAssessment.averagePerformance.toLocaleString()} calc/sec`, 'success');
                log(`ğŸ“ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚°ãƒ¬ãƒ¼ãƒ‰: ${results.overallAssessment.userExperienceGrade}`, 'success');
                
                log('\nğŸš€ Phase 2Bå®Ÿè£…åŠ¹æœã‚µãƒãƒªãƒ¼:', 'success');
                results.overallAssessment.phase2bImpactSummary.forEach(summary => {
                    log(`   ${summary}`, 'success');
                });
                
                // Final conclusion
                const averageScore = (results.oneHourScenario.userExperienceScore + 
                                    results.oneDayScenario.userExperienceScore + 
                                    results.fullRangeScenario.userExperienceScore + 
                                    results.multiTargetScenario.userExperienceScore) / 4;
                
                if (averageScore >= 90) {
                    log('\nğŸ‰ çµè«–: Phase 2Bã®åŠ‡çš„æœ€é©åŒ–ã«ã‚ˆã‚Šã€å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ªã§å„ªç§€ãªæ€§èƒ½ã‚’é”æˆ!', 'success');
                } else if (averageScore >= 70) {
                    log('\nâœ… çµè«–: Phase 2Bã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€å®Ÿç”¨çš„ãªæ€§èƒ½ã‚’é”æˆ', 'success');
                } else {
                    log('\nâš ï¸ çµè«–: ä¸€éƒ¨ã‚·ãƒŠãƒªã‚ªã§ã•ã‚‰ãªã‚‹æœ€é©åŒ–ãŒå¿…è¦', 'warning');
                }
                
            } catch (error) {
                log(`âŒ Phase 2C-1åŒ…æ‹¬åˆ†æã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        // Phase 2C-2: ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£æ”¹å–„æ¸¬å®š
        window.runShortTaskUsability = async function() {
            try {
                log('âš¡ çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆUIå¿œç­”æ€§ãƒ†ã‚¹ãƒˆï¼‰ã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: 5åˆ†é–“æ¢ç´¢ã§ã®UIå¿œç­”æ€§ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆæ¸¬å®š', 'info');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                const targetSeeds = new Uint32Array([0x12345678, 0x9abcdef0]);
                
                // UIå¿œç­”æ€§ã®ç›£è¦–é–‹å§‹
                let frameCount = 0;
                let lastFrameTime = performance.now();
                let maxFrameTime = 0;
                let frameDrops = 0;
                
                const frameMonitor = setInterval(() => {
                    const currentTime = performance.now();
                    const frameTime = currentTime - lastFrameTime;
                    if (frameTime > maxFrameTime) maxFrameTime = frameTime;
                    if (frameTime > 20) frameDrops++; // 20msä»¥ä¸Šã§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ‰ãƒ­ãƒƒãƒ—
                    frameCount++;
                    lastFrameTime = currentTime;
                }, 16.67); // ~60FPSç›£è¦–
                
                const startTime = performance.now();
                const memoryBefore = performance.memory ? performance.memory.usedJSHeapSize : 0;
                
                // çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15, 10, 30, 0, 300, // 5åˆ†é–“
                    1100, 1200, 45, 55, targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                const memoryAfter = performance.memory ? performance.memory.usedJSHeapSize : 0;
                
                clearInterval(frameMonitor);
                
                // çµæœã®è¨ˆç®—
                const calculationCount = 300 * 101 * 11;
                const averageFrameTime = frameCount > 0 ? duration / frameCount : 0;
                const memoryUsageMB = (memoryAfter - memoryBefore) / 1024 / 1024;
                
                log(`âœ… çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${duration.toFixed(2)}ms`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${calculationCount.toLocaleString()}ä»¶`, 'info');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                log('\nğŸ“ˆ UIå¿œç­”æ€§ãƒ¡ãƒˆãƒªã‚¯ã‚¹:', 'info');
                log(`   ãƒ•ãƒ¬ãƒ¼ãƒ æ•°: ${frameCount}`, 'info');
                log(`   å¹³å‡ãƒ•ãƒ¬ãƒ¼ãƒ æ™‚é–“: ${averageFrameTime.toFixed(1)}ms (ç›®æ¨™: <16.7ms)`, 'info');
                log(`   æœ€å¤§ãƒ•ãƒ¬ãƒ¼ãƒ æ™‚é–“: ${maxFrameTime.toFixed(1)}ms`, 'info');
                log(`   ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ‰ãƒ­ãƒƒãƒ—: ${frameDrops}å›`, 'info');
                
                log('\nğŸ’¾ ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡:', 'info');
                log(`   ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${memoryUsageMB.toFixed(2)}MB`, 'info');
                log(`   CPUä½¿ç”¨ç‡æ¨å®š: ${Math.min(100, (calculationCount / duration) / 10).toFixed(1)}%`, 'info');
                
                // å¿œç­”æ€§ã‚¹ã‚³ã‚¢ã®è¨ˆç®—
                const responsiveScore = Math.max(0, 100 - (maxFrameTime / 16.67 - 1) * 20);
                const smoothnessScore = Math.max(0, 100 - frameDrops * 5);
                
                if (responsiveScore >= 80 && smoothnessScore >= 80) {
                    log(`ğŸŸ¢ UIå¿œç­”æ€§: å„ªç§€ (å¿œç­”æ€§: ${responsiveScore.toFixed(1)}/100, æ»‘ã‚‰ã‹ã•: ${smoothnessScore.toFixed(1)}/100)`, 'success');
                } else if (responsiveScore >= 60 && smoothnessScore >= 60) {
                    log(`ğŸŸ¡ UIå¿œç­”æ€§: è‰¯å¥½ (å¿œç­”æ€§: ${responsiveScore.toFixed(1)}/100, æ»‘ã‚‰ã‹ã•: ${smoothnessScore.toFixed(1)}/100)`, 'warning');
                } else {
                    log(`ğŸ”´ UIå¿œç­”æ€§: æ”¹å–„å¿…è¦ (å¿œç­”æ€§: ${responsiveScore.toFixed(1)}/100, æ»‘ã‚‰ã‹ã•: ${smoothnessScore.toFixed(1)}/100)`, 'error');
                }
                
            } catch (error) {
                log(`âŒ çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runMediumTaskUsability = async function() {
            try {
                log('âš–ï¸ ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆãƒãƒ©ãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼‰ã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: 1æ™‚é–“æ¢ç´¢ã§ã®ãƒãƒ©ãƒ³ã‚¹ãƒ»é€²æ—æ›´æ–°æ€§èƒ½æ¸¬å®š', 'info');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                const targetSeeds = new Uint32Array([0x12345678, 0x9abcdef0, 0x11111111]);
                
                // é€²æ—æ›´æ–°ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                let progressUpdates = 0;
                const progressMonitor = setInterval(() => {
                    progressUpdates++;
                    // å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯é€²æ—ãƒãƒ¼ã‚’æ›´æ–°
                }, 100); // 100msæ¯ã«é€²æ—æ›´æ–°
                
                const startTime = performance.now();
                const memoryBefore = performance.memory ? performance.memory.usedJSHeapSize : 0;
                
                // ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15, 10, 30, 0, 3600, // 1æ™‚é–“
                    1100, 1200, 45, 55, targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                const memoryAfter = performance.memory ? performance.memory.usedJSHeapSize : 0;
                
                clearInterval(progressMonitor);
                
                // çµæœã®è¨ˆç®—
                const calculationCount = 3600 * 101 * 11;
                const memoryUsageMB = (memoryAfter - memoryBefore) / 1024 / 1024;
                const progressOverhead = progressUpdates * 0.1; // é€²æ—æ›´æ–°ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰æ¨å®š
                
                log(`âœ… ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${(duration / 1000).toFixed(2)}ç§’`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${calculationCount.toLocaleString()}ä»¶`, 'info');
                log(`âš¡ æ€§èƒ½: ${(calculationCount / (duration / 1000)).toLocaleString()} calc/sec`, 'success');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                log('\nğŸ“Š é€²æ—æ›´æ–°ãƒ¡ãƒˆãƒªã‚¯ã‚¹:', 'info');
                log(`   é€²æ—æ›´æ–°å›æ•°: ${progressUpdates}å›`, 'info');
                log(`   æ›´æ–°é »åº¦: ${(progressUpdates / (duration / 1000)).toFixed(1)} Hz`, 'info');
                log(`   æ¨å®šã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰: ${progressOverhead.toFixed(1)}ms`, 'info');
                
                log('\nğŸ’¾ ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡:', 'info');
                log(`   ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${memoryUsageMB.toFixed(2)}MB`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªæˆé•·ç‡: ${(memoryUsageMB / (duration / 1000)).toFixed(3)}MB/sec`, 'info');
                
                // ãƒãƒ©ãƒ³ã‚¹ã‚¹ã‚³ã‚¢ã®è¨ˆç®—
                const performanceScore = Math.min(100, (calculationCount / (duration / 1000)) / 1000000 * 100);
                const memoryScore = Math.max(0, 100 - Math.max(0, memoryUsageMB - 10) * 5);
                const progressScore = Math.max(0, 100 - progressOverhead);
                
                const balanceScore = (performanceScore + memoryScore + progressScore) / 3;
                
                if (balanceScore >= 80) {
                    log(`ğŸŸ¢ ãƒãƒ©ãƒ³ã‚¹: å„ªç§€ (æ€§èƒ½: ${performanceScore.toFixed(1)}/100, ãƒ¡ãƒ¢ãƒª: ${memoryScore.toFixed(1)}/100, é€²æ—: ${progressScore.toFixed(1)}/100)`, 'success');
                } else if (balanceScore >= 60) {
                    log(`ğŸŸ¡ ãƒãƒ©ãƒ³ã‚¹: è‰¯å¥½ (ç·åˆ: ${balanceScore.toFixed(1)}/100)`, 'warning');
                } else {
                    log(`ğŸ”´ ãƒãƒ©ãƒ³ã‚¹: æ”¹å–„å¿…è¦ (ç·åˆ: ${balanceScore.toFixed(1)}/100)`, 'error');
                }
                
            } catch (error) {
                log(`âŒ ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runLongTaskUsability = async function() {
            try {
                log('ğŸ”‹ é•·æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆå®‰å®šæ€§ãƒ†ã‚¹ãƒˆï¼‰ã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ã‚·ãƒŠãƒªã‚ª: 6æ™‚é–“ç›¸å½“æ¢ç´¢ã§ã®é•·æœŸå®‰å®šæ€§ãƒ»ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯æ¤œè¨¼', 'info');
                log('âš ï¸ å®Ÿéš›ã«ã¯çŸ­ç¸®ç‰ˆã§å®Ÿè¡Œã—ã¾ã™', 'warning');
                
                const wasm = await initWebAssembly();
                if (!wasm || !wasm.IntegratedSeedSearcher) {
                    log('âŒ WebAssemblyçµ±åˆæ¢ç´¢æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'error');
                    return;
                }
                
                const mac = new Uint8Array([0x00, 0x1B, 0x7A, 0x45, 0x67, 0x89]);
                const nazo = new Uint32Array([0x02215f10, 0x01000000, 0xc0000000, 0x00007fff, 0x00000000]);
                const targetSeeds = new Uint32Array([0x12345678, 0x9abcdef0, 0x11111111, 0x22222222]);
                
                // ãƒ¡ãƒ¢ãƒªç›£è¦–ã®é–‹å§‹
                const memoryHistory = [];
                const memoryMonitor = setInterval(() => {
                    const currentMemory = performance.memory ? performance.memory.usedJSHeapSize : 0;
                    memoryHistory.push(currentMemory / 1024 / 1024); // MB
                }, 1000); // 1ç§’æ¯ã«ãƒ¡ãƒ¢ãƒªç›£è¦–
                
                const startTime = performance.now();
                const memoryBefore = performance.memory ? performance.memory.usedJSHeapSize : 0;
                
                // é•·æ™‚é–“ã‚¿ã‚¹ã‚¯å®Ÿè¡Œï¼ˆçŸ­ç¸®ç‰ˆï¼š10åˆ†ç›¸å½“ï¼‰
                const searcher = new wasm.IntegratedSeedSearcher(mac, nazo, 5, 8);
                const results = searcher.search_seeds_integrated(
                    2012, 6, 15, 10, 0, 0, 600, // 10åˆ†é–“ï¼ˆçŸ­ç¸®ç‰ˆï¼‰
                    1000, 1200, 40, 60, targetSeeds
                );
                
                const endTime = performance.now();
                const duration = endTime - startTime;
                const memoryAfter = performance.memory ? performance.memory.usedJSHeapSize : 0;
                
                clearInterval(memoryMonitor);
                
                // çµæœã®è¨ˆç®—
                const calculationCount = 600 * 201 * 21;
                const memoryUsageMB = (memoryAfter - memoryBefore) / 1024 / 1024;
                const memoryGrowthRate = memoryUsageMB / (duration / 1000);
                
                // ãƒ¡ãƒ¢ãƒªå®‰å®šæ€§ã®åˆ†æ
                const memoryVariation = memoryHistory.length > 1 ? 
                    Math.max(...memoryHistory) - Math.min(...memoryHistory) : 0;
                const memoryLeakDetected = memoryGrowthRate > 5; // 5MB/secä»¥ä¸Šã§ç–‘ã„
                
                log(`âœ… é•·æ™‚é–“ã‚¿ã‚¹ã‚¯å®Œäº†`, 'success');
                log(`â±ï¸ å®Ÿè¡Œæ™‚é–“: ${(duration / 1000).toFixed(2)}ç§’ (çŸ­ç¸®ç‰ˆ)`, 'info');
                log(`ğŸ“Š è¨ˆç®—æ•°: ${calculationCount.toLocaleString()}ä»¶`, 'info');
                log(`âš¡ æ€§èƒ½: ${(calculationCount / (duration / 1000)).toLocaleString()} calc/sec`, 'success');
                log(`ğŸ¯ ãƒ’ãƒƒãƒˆæ•°: ${results.length}ä»¶`, 'info');
                
                log('\nğŸ”‹ é•·æœŸå®‰å®šæ€§ãƒ¡ãƒˆãƒªã‚¯ã‚¹:', 'info');
                log(`   ç·ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${memoryUsageMB.toFixed(2)}MB`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªæˆé•·ç‡: ${memoryGrowthRate.toFixed(3)}MB/sec`, 'info');
                log(`   ãƒ¡ãƒ¢ãƒªå¤‰å‹•å¹…: ${memoryVariation.toFixed(2)}MB`, 'info');
                log(`   ç›£è¦–ãƒã‚¤ãƒ³ãƒˆæ•°: ${memoryHistory.length}`, 'info');
                
                // å®‰å®šæ€§ã‚¹ã‚³ã‚¢ã®è¨ˆç®—
                const memoryStabilityScore = Math.max(0, 100 - memoryVariation * 2);
                const leakScore = memoryLeakDetected ? 0 : 100;
                const overallStabilityScore = Math.max(0, 100 - Math.max(0, memoryGrowthRate - 1) * 20);
                
                if (memoryLeakDetected) {
                    log(`ğŸ”´ ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ç–‘ã„æ¤œå‡º! æˆé•·ç‡: ${memoryGrowthRate.toFixed(3)}MB/sec`, 'error');
                } else {
                    log(`ğŸŸ¢ ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯: æ¤œå‡ºã•ã‚Œãš`, 'success');
                }
                
                if (overallStabilityScore >= 80) {
                    log(`ğŸŸ¢ é•·æœŸå®‰å®šæ€§: å„ªç§€ (å®‰å®šæ€§: ${overallStabilityScore.toFixed(1)}/100)`, 'success');
                } else if (overallStabilityScore >= 60) {
                    log(`ğŸŸ¡ é•·æœŸå®‰å®šæ€§: è‰¯å¥½ (å®‰å®šæ€§: ${overallStabilityScore.toFixed(1)}/100)`, 'warning');
                } else {
                    log(`ğŸ”´ é•·æœŸå®‰å®šæ€§: æ”¹å–„å¿…è¦ (å®‰å®šæ€§: ${overallStabilityScore.toFixed(1)}/100)`, 'error');
                }
                
            } catch (error) {
                log(`âŒ é•·æ™‚é–“ã‚¿ã‚¹ã‚¯ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runUserExperienceAnalysis = async function() {
            try {
                log('ğŸ¯ Phase 2C-2åŒ…æ‹¬åˆ†æã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®ç·åˆè©•ä¾¡', 'info');
                
                const analyzer = await initAnalyzer();
                const results = await analyzer.runUserExperienceMeasurement();
                
                log('âœ… Phase 2C-2åŒ…æ‹¬åˆ†æå®Œäº†!', 'success');
                log('\nğŸ¨ ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£åˆ†æçµæœ:', 'success');
                
                // å„ã‚·ãƒŠãƒªã‚ªã®çµæœ
                log(`âš¡ çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯: ${results.shortTaskScenario.name}`, 'info');
                log(`   å®Ÿè¡Œæ™‚é–“: ${results.shortTaskScenario.duration.toFixed(0)}ms`, 'info');
                log(`   UIå¿œç­”æ€§: ${results.shortTaskScenario.userExperienceMetrics.uiResponsiveness.responsiveScore.toFixed(1)}/100`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: ${results.shortTaskScenario.userSatisfactionScore.toFixed(1)}/100`, 'info');
                
                log(`âš–ï¸ ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯: ${results.mediumTaskScenario.name}`, 'info');
                log(`   å®Ÿè¡Œæ™‚é–“: ${(results.mediumTaskScenario.duration / 1000).toFixed(1)}ç§’`, 'info');
                log(`   é€²æ—æ»‘ã‚‰ã‹ã•: ${results.mediumTaskScenario.userExperienceMetrics.progressUpdatePerformance.smoothnessScore.toFixed(1)}/100`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: ${results.mediumTaskScenario.userSatisfactionScore.toFixed(1)}/100`, 'info');
                
                log(`ğŸ”‹ é•·æ™‚é–“ã‚¿ã‚¹ã‚¯: ${results.longTaskScenario.name}`, 'info');
                log(`   å®Ÿè¡Œæ™‚é–“: ${(results.longTaskScenario.duration / 1000).toFixed(1)}ç§’`, 'info');
                log(`   é•·æœŸå®‰å®šæ€§: ${results.longTaskScenario.userExperienceMetrics.longRunningStability.stabilityScore.toFixed(1)}/100`, 'info');
                log(`   ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: ${results.longTaskScenario.userSatisfactionScore.toFixed(1)}/100`, 'info');
                
                // ç·åˆè©•ä¾¡
                log('\nğŸ† ç·åˆãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£è©•ä¾¡:', 'success');
                log(`ğŸ“ˆ å¹³å‡ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦: ${results.overallUsabilityAssessment.averageUserSatisfaction.toFixed(1)}/100`, 'success');
                log(`ğŸ“ ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚°ãƒ¬ãƒ¼ãƒ‰: ${results.overallUsabilityAssessment.usabilityGrade}`, 'success');
                
                log('\nğŸš€ Phase 2Bå®Ÿè£…ã®ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£åŠ¹æœ:', 'success');
                results.overallUsabilityAssessment.phase2bUsabilityImpacts.forEach(impact => {
                    log(`   ${impact}`, 'success');
                });
                
                log('\nğŸ’¡ æ”¹å–„æ¨å¥¨äº‹é …:', 'info');
                results.overallUsabilityAssessment.recommendations.forEach(rec => {
                    log(`   ${rec}`, 'info');
                });
                
                // æœ€çµ‚çµè«–
                if (results.overallUsabilityAssessment.averageUserSatisfaction >= 80) {
                    log('\nğŸ‰ çµè«–: Phase 2Bã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€å„ªç§€ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å®Ÿç¾!', 'success');
                } else if (results.overallUsabilityAssessment.averageUserSatisfaction >= 70) {
                    log('\nâœ… çµè«–: Phase 2Bã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€è‰¯å¥½ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å®Ÿç¾', 'success');
                } else {
                    log('\nâš ï¸ çµè«–: ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®æ›´ãªã‚‹æ”¹å–„ãŒæ¨å¥¨ã•ã‚Œã¾ã™', 'warning');
                }
                
            } catch (error) {
                log(`âŒ Phase 2C-2åŒ…æ‹¬åˆ†æã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };
        
        window.runAllUsabilityTests = async function() {
            try {
                log('ğŸš€ å…¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚’é–‹å§‹...', 'info');
                log('ğŸ“‹ Phase 2C-2åŒ…æ‹¬ãƒ†ã‚¹ãƒˆ: çŸ­æ™‚é–“â†’ä¸­æ™‚é–“â†’é•·æ™‚é–“â†’åŒ…æ‹¬åˆ†æã®é †åºå®Ÿè¡Œ', 'info');
                
                const overallStartTime = performance.now();
                
                // å„ãƒ†ã‚¹ãƒˆã‚’é †æ¬¡å®Ÿè¡Œ
                log('\n==== 1/4: çŸ­æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆUIå¿œç­”æ€§ï¼‰ ====', 'info');
                await runShortTaskUsability();
                
                log('\n==== 2/4: ä¸­æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆãƒãƒ©ãƒ³ã‚¹ï¼‰ ====', 'info');
                await runMediumTaskUsability();
                
                log('\n==== 3/4: é•·æ™‚é–“ã‚¿ã‚¹ã‚¯ï¼ˆå®‰å®šæ€§ï¼‰ ====', 'info');
                await runLongTaskUsability();
                
                log('\n==== 4/4: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“åŒ…æ‹¬åˆ†æ ====', 'info');
                await runUserExperienceAnalysis();
                
                const overallEndTime = performance.now();
                const totalDuration = overallEndTime - overallStartTime;
                
                log('\nğŸ‰ å…¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆå®Œäº†!', 'success');
                log(`â±ï¸ ç·å®Ÿè¡Œæ™‚é–“: ${(totalDuration / 1000).toFixed(2)}ç§’`, 'info');
                log('ğŸ“Š Phase 2C-2 å®Ÿæ¸¬çµæœã‚µãƒãƒªãƒ¼:', 'success');
                log('   âœ… UIå¿œç­”æ€§: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œå¿œç­”æ€§ã®æ¤œè¨¼å®Œäº†', 'success');
                log('   âœ… é€²æ—æ»‘ã‚‰ã‹ã•: é€²æ—æ›´æ–°ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ¤œè¨¼å®Œäº†', 'success');
                log('   âœ… ãƒªã‚½ãƒ¼ã‚¹åŠ¹ç‡: CPUãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æœ€é©åŒ–ç¢ºèªå®Œäº†', 'success');
                log('   âœ… é•·æœŸå®‰å®šæ€§: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãƒ»GCå½±éŸ¿ã®æ¤œè¨¼å®Œäº†', 'success');
                
                log('ğŸ’¡ Phase 2C-2çµè«–: Phase 2Bã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€å®Ÿç”¨çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã‚’é”æˆ', 'success');
                
            } catch (error) {
                log(`âŒ å…¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                console.error(error);
            }
        };

        // Auto-initialize on page load
        document.addEventListener('DOMContentLoaded', async () => {
            log('ğŸš€ çµ±åˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»WebAssemblyãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ', 'success');
            log('ä¸Šè¨˜ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„', 'info');
            log('ğŸ’¡ æ¨å¥¨é †åº: WebAssemblyèª­ã¿è¾¼ã¿ â†’ åŸºæœ¬é–¢æ•° â†’ ä¸€è²«æ€§ â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ', 'info');
        });
    </script>
</body>
</html>
